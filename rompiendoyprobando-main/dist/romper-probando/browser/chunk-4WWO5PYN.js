import{a as pe,b as he,c as we,g as Et,h as It,i as ue,j as Tt}from"./chunk-DXCHC2D2.js";import{a as se,b as et}from"./chunk-4DUNT3H5.js";import"./chunk-VN3CQEPZ.js";import"./chunk-JINNKTRQ.js";import{p as St}from"./chunk-JXCPYOSY.js";import{$ as C,$b as Pe,$c as Pt,A as Je,Ac as ht,B as fe,Bc as ut,Cc as ft,Dc as z,E as b,Ec as L,F as y,Fa as Ge,Fc as B,Ga as qe,Gc as vt,Ha as a,Hc as N,Ia as w,Ic as H,Ja as p,Jc as _t,Ka as ae,Kc as V,La as Q,Lc as j,Ma as W,Mc as gt,Na as K,Nc as G,Oc as q,Pc as Ct,Qc as U,R as c,Ra as S,S as R,Sc as bt,Ta as x,Tc as me,Ua as re,Va as E,Vc as yt,Wb as $e,Wc as xt,Y as g,Zb as tt,_b as it,a as Ve,aa as ne,b as Ze,bc as ot,bd as wt,db as D,dc as nt,ea as l,ed as Y,f as je,fb as ce,fc as at,fd as Qe,g as Ye,gb as O,h as J,ha as T,hb as Xe,ia as M,jc as F,kb as ye,lc as ee,ma as s,mb as xe,na as n,nc as A,oa as o,ob as de,oc as rt,pa as h,pb as le,qa as u,qb as Ue,qc as Z,r as ie,ra as f,rc as ct,sc as dt,ta as P,tc as lt,uc as st,va as v,wa as _,y as be,yc as mt,z as oe,zc as pt}from"./chunk-26SCTFAY.js";var Se=class e{constructor(t,i){this.dialogRef=t;this.data=i}onConfirmar(){this.dialogRef.close({confirmado:!0})}onCancelar(){this.dialogRef.close({confirmado:!1})}static \u0275fac=function(i){return new(i||e)(g(pe),g(he))};static \u0275cmp=C({type:e,selectors:[["app-popup-confirmacion-eliminacion"]],standalone:!1,decls:21,vars:3,consts:[["color","warn"],[1,"dialog-title"],[1,"spacer"],[3,"click"],["mat-dialog-content","",1,"dialog-content"],[1,"message-area"],["mat-dialog-actions","","align","end"],["type","button","color","primary",3,"click"],["color","warn",3,"click"]],template:function(i,r){i&1&&(n(0,"mat-toolbar",0)(1,"span",1),a(2),o(),h(3,"span",2),n(4,"button",3),v("click",function(){return r.onCancelar()}),a(5," Close "),o()(),n(6,"div",4)(7,"div",5)(8,"p"),a(9),o(),n(10,"p")(11,"strong"),a(12,"\xCDtem:"),o(),a(13),o(),n(14,"p"),a(15,"\xBFDesea continuar con esta acci\xF3n?"),o()()(),n(16,"div",6)(17,"button",7),v("click",function(){return r.onCancelar()}),a(18," Cancelar "),o(),n(19,"button",8),v("click",function(){return r.onConfirmar()}),a(20," S\xED, Eliminar "),o()()),i&2&&(c(2),w(r.data.titulo),c(7),w(r.data.mensaje),c(4),p(" ",r.data.itemNombre))},dependencies:[se],styles:[".mat-toolbar[_ngcontent-%COMP%]{background-color:#d9534f!important;color:#fff;padding:0 20px;min-height:56px}.dialog-title[_ngcontent-%COMP%]{font-weight:600;font-size:1.1rem}.dialog-content[_ngcontent-%COMP%]{padding:24px 30px;color:#333;font-size:1rem}.message-area[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:10px;line-height:1.4}.message-area[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#1f3b73;font-weight:700}.mat-dialog-actions[_ngcontent-%COMP%]{padding:16px 24px;gap:10px}.mat-button[color=primary][_ngcontent-%COMP%]{background-color:#f0f0f0!important;color:#1f3b73!important;border:1px solid #ccc;font-weight:500}.mat-raised-button[color=warn][_ngcontent-%COMP%]{background-color:#d9534f!important;color:#fff!important;font-weight:600}"]})};var te=class e{constructor(t){this.http=t}getListadoProveedores(){return this.http.get(`${me.apiUrl}/api/compras/proveedores`).pipe(J(t=>t.data))}createProveedor(t){return this.http.post(`${me.apiUrl}/api/compras/proveedores`,t).pipe(J(i=>i.data))}updateProveedor(t,i){return this.http.put(`${me.apiUrl}/api/compras/proveedores/${t}`,i).pipe(J(r=>r.data))}deleteProveedor(t){return Ye(()=>new Error("Eliminaci\xF3n de proveedores no implementada en backend."))}static \u0275fac=function(i){return new(i||e)(fe(ye))};static \u0275prov=be({token:e,factory:e.\u0275fac,providedIn:"root"})};var At=["class","component"];function zt(e,t){e&1&&(n(0,"div",6)(1,"h4"),a(2,"ID del Proveedor:"),o(),h(3,"input",17),o())}function Lt(e,t){e&1&&(n(0,"mat-error"),a(1,"El RUC es requerido."),o())}function Bt(e,t){e&1&&(n(0,"mat-error"),a(1,"Formato de RUC inv\xE1lido (10-15 d\xEDgitos)."),o())}function Nt(e,t){e&1&&(n(0,"mat-error"),a(1,"El nombre es requerido."),o())}function Ht(e,t){e&1&&(n(0,"mat-error"),a(1,"Correo electr\xF3nico inv\xE1lido."),o())}function Vt(e,t){if(e&1&&(n(0,"mat-checkbox",13),a(1),o()),e&2){let i=_();c(),p(" Proveedor ",i.f.estado.value?"Activo":"Inactivo"," ")}}var ve=class e{constructor(t,i,r,d){this.dialogRef=t;this.data=i;this.fb=r;this.proveedorService=d}proveedorForm;isEditMode=!1;dialogTitle="Crear Nuevo Proveedor";isLoading=!1;originalProveedor;ngOnInit(){this.isEditMode=this.data.mode==="edit",this.initForm(),this.isEditMode&&this.data.proveedor?(this.dialogTitle=`Editar Proveedor N\xB0 ${this.data.proveedor.id}`,this.originalProveedor=this.data.proveedor,this.loadFormData(this.data.proveedor)):this.dialogTitle="Registrar Nuevo Proveedor"}initForm(){this.proveedorForm=this.fb.group({id:[{value:"",disabled:!0}],nombreProveedor:["",[ee.required,ee.maxLength(150)]],ruc:["",[ee.required,ee.pattern(/^[0-9]{10,15}$/)]],direccion:[""],telefono:["",[ee.maxLength(20)]],correo:["",[ee.email,ee.maxLength(150)]],estado:[!0]}),this.isEditMode?this.proveedorForm.get("ruc")?.disable():this.proveedorForm.get("estado")?.disable()}loadFormData(t){this.proveedorForm.patchValue({id:t.id,nombreProveedor:t.nombreProveedor,ruc:t.ruc,direccion:t.direccion,telefono:t.telefono,correo:t.correo,estado:t.estado})}onSubmit(){if(this.proveedorForm.invalid){this.proveedorForm.markAllAsTouched();return}let t=this.proveedorForm.getRawValue();this.isLoading=!0,this.isEditMode?this.handleUpdate(t):this.handleCreate(t)}handleCreate(t){let i={nombreProveedor:t.nombreProveedor,ruc:t.ruc,direccion:t.direccion,telefono:t.telefono,correo:t.correo};this.proveedorService.createProveedor(i).pipe(ie(()=>this.isLoading=!1)).subscribe({next:r=>{this.dialogRef.close({success:!0,data:r})},error:r=>{console.error("Error al crear proveedor:",r),alert("Error al crear proveedor. Verifique los datos.")}})}handleUpdate(t){let i=t.id,r={nombreProveedor:t.nombreProveedor,direccion:t.direccion,telefono:t.telefono,correo:t.correo,estado:t.estado};this.proveedorService.updateProveedor(i,r).pipe(ie(()=>this.isLoading=!1)).subscribe({next:d=>{this.dialogRef.close({success:!0,data:d})},error:d=>{console.error("Error al actualizar proveedor:",d),alert("Error al actualizar proveedor. Verifique los datos.")}})}onCancel(){this.dialogRef.close({success:!1})}get f(){return this.proveedorForm.controls}static \u0275fac=function(i){return new(i||e)(g(pe),g(he),g(ht),g(te))};static \u0275cmp=C({type:e,selectors:[["app-popup-proveedor-form",8,"component"]],standalone:!1,attrs:At,decls:39,vars:12,consts:[["color","primary"],[1,"dialog-title"],[1,"spacer"],[3,"click","disabled"],[1,"dialog-form",3,"ngSubmit","formGroup"],["mat-dialog-content","",1,"form-content"],[1,"form-field-group","full-width"],["formControlName","ruc","type","text"],[4,"ngIf"],["formControlName","nombreProveedor","maxlength","150"],["formControlName","direccion"],["formControlName","telefono","maxlength","20"],["formControlName","correo","type","email","maxlength","150"],["formControlName","estado","color","primary",1,"full-width","status-checkbox"],["mat-dialog-actions","","align","end"],["type","button",3,"click","disabled"],["color","primary","type","submit",3,"disabled"],["formControlName","id"]],template:function(i,r){i&1&&(n(0,"mat-toolbar",0)(1,"span",1),a(2),o(),h(3,"span",2),n(4,"button",3),v("click",function(){return r.onCancel()}),a(5," Close "),o()(),n(6,"form",4),v("ngSubmit",function(){return r.onSubmit()}),n(7,"div",5),T(8,zt,4,0,"div",6),n(9,"div",6)(10,"h4"),a(11,"RUC:"),o(),h(12,"input",7),l(13,Lt,2,0,"mat-error",8)(14,Bt,2,0,"mat-error",8),o(),n(15,"div",6)(16,"h4"),a(17,"Nombre del Proveedor:"),o(),h(18,"input",9),l(19,Nt,2,0,"mat-error",8),o(),n(20,"div",6)(21,"h4"),a(22,"Direcci\xF3n:"),o(),h(23,"input",10),o(),n(24,"div",6)(25,"h4"),a(26,"Tel\xE9fono:"),o(),h(27,"input",11),o(),n(28,"div",6)(29,"h4"),a(30,"Correo Electr\xF3nico:"),o(),h(31,"input",12),l(32,Ht,2,0,"mat-error",8),o(),T(33,Vt,2,1,"mat-checkbox",13),o(),n(34,"div",14)(35,"button",15),v("click",function(){return r.onCancel()}),a(36," Cancelar "),o(),n(37,"button",16),a(38),o()()()),i&2&&(c(2),w(r.dialogTitle),c(2),s("disabled",r.isLoading),c(2),s("formGroup",r.proveedorForm),c(2),M(r.isEditMode?8:-1),c(5),s("ngIf",r.f.ruc.hasError("required")),c(),s("ngIf",r.f.ruc.hasError("pattern")),c(5),s("ngIf",r.f.nombreProveedor.hasError("required")),c(13),s("ngIf",r.f.correo.hasError("email")),c(),M(r.isEditMode?33:-1),c(2),s("disabled",r.isLoading),c(2),s("disabled",r.proveedorForm.invalid||r.isLoading),c(),p(" ",r.isEditMode?"Guardar Cambios":"Registrar Proveedor"," "))},dependencies:[se,Et,yt,D,ct,F,A,rt,pt,lt,st],styles:[".mat-toolbar[_ngcontent-%COMP%]{background-color:#20407b!important;color:#fff;padding:0 24px;height:64px}.dialog-title[_ngcontent-%COMP%]{font-weight:600;font-size:1.25rem}.form-content[_ngcontent-%COMP%]{padding:24px 24px 16px;display:grid;gap:8px}.form-field-group[_ngcontent-%COMP%]{margin:0}.form-field-group[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#1f3b73;font-size:14px;font-weight:500;margin-bottom:4px;margin-top:0}.full-width[_ngcontent-%COMP%]{width:100%;margin:0!important;padding-top:0!important}.mat-mdc-form-field-subscript-wrapper[_ngcontent-%COMP%]{padding:0}.mat-mdc-text-field-wrapper[_ngcontent-%COMP%]{background-color:#f5f8ff!important;border-radius:5px}.mat-mdc-text-field-wrapper[_ngcontent-%COMP%]   .mat-mdc-form-field-flex[_ngcontent-%COMP%]{border:1px solid #a0b5da;border-radius:5px;padding:0 10px}.mat-mdc-input-element[_ngcontent-%COMP%]{color:#1f3b73;font-size:14px}.status-checkbox[_ngcontent-%COMP%]{margin-top:10px;color:#1f3b73}.mat-mdc-dialog-actions[_ngcontent-%COMP%]{padding:16px 24px;gap:10px}.mat-mdc-button[_ngcontent-%COMP%], .mat-mdc-raised-button[_ngcontent-%COMP%]{border:none;padding:8px 14px;border-radius:6px;font-weight:500}.mat-mdc-button[color=basic][_ngcontent-%COMP%]{background-color:#ccc!important;color:#333!important}.mat-mdc-raised-button[color=primary][_ngcontent-%COMP%]{background-color:#1f64ff!important;color:#fff!important}mat-spinner[_ngcontent-%COMP%]{margin:0 4px}"]})};var jt=()=>[];function Gt(e,t){e&1&&(n(0,"th",15),a(1," ID "),o())}function qt(e,t){if(e&1&&(n(0,"td",16),a(1),o()),e&2){let i=t.$implicit;c(),p(" ",i.id," ")}}function Ut(e,t){e&1&&(n(0,"th",15),a(1," Nombre Proveedor "),o())}function $t(e,t){if(e&1&&(n(0,"td",16),a(1),o()),e&2){let i=t.$implicit;c(),p(" **",i.nombreProveedor,"** ")}}function Qt(e,t){e&1&&(n(0,"th",15),a(1," RUC "),o())}function Wt(e,t){if(e&1&&(n(0,"td",16),a(1),o()),e&2){let i=t.$implicit;c(),p(" ",i.ruc," ")}}function Kt(e,t){e&1&&(n(0,"th",15),a(1," Tel\xE9fono "),o())}function Zt(e,t){if(e&1&&(n(0,"td",16),a(1),o()),e&2){let i=t.$implicit;c(),p(" ",i.telefono," ")}}function Yt(e,t){e&1&&(n(0,"th",15),a(1," Correo "),o())}function Jt(e,t){if(e&1&&(n(0,"td",16),a(1),o()),e&2){let i=t.$implicit;c(),p(" ",i.correo," ")}}function Xt(e,t){e&1&&(n(0,"th",15),a(1," Estado "),o())}function ei(e,t){if(e&1&&(n(0,"td",16)(1,"span"),a(2),o()()),e&2){let i=t.$implicit;c(),Ge("activo",i.estado)("inactivo",!i.estado),c(),p(" ",i.estado?"ACTIVO":"INACTIVO"," ")}}function ti(e,t){e&1&&(n(0,"th",15),a(1," Modificar "),o())}function ii(e,t){if(e&1){let i=P();n(0,"td",16)(1,"button",17),v("click",function(){let d=b(i).$implicit,m=_();return y(m.onEditar(d))}),a(2," Editar Proveedor "),o()()}}function oi(e,t){e&1&&(n(0,"th",15),a(1," Eliminar "),o())}function ni(e,t){if(e&1){let i=P();n(0,"td",16)(1,"button",18),v("click",function(){let d=b(i).$implicit,m=_();return y(m.onEliminar(d))}),a(2," Eliminar Proveedor "),o()()}}function ai(e,t){e&1&&h(0,"tr",19)}function ri(e,t){e&1&&h(0,"tr",20)}function ci(e,t){e&1&&(n(0,"div",21),a(1," No hay proveedores registrados. "),o())}var Ie=class e{proveedores=[];displayedColumns=["id","nombreProveedor","ruc","telefono","correo","estado","modificar","eliminar"];editar=new R;eliminar=new R;onEditar(t){this.editar.emit(t)}onEliminar(t){this.eliminar.emit(t)}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=C({type:e,selectors:[["app-proveedores-table"]],inputs:{proveedores:"proveedores"},outputs:{editar:"editar",eliminar:"eliminar"},standalone:!1,decls:29,vars:5,consts:[[1,"table-container","mat-elevation-z2"],["mat-table","",1,"full-width",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","nombreProveedor"],["matColumnDef","ruc"],["matColumnDef","telefono"],["matColumnDef","correo"],["matColumnDef","estado"],["matColumnDef","modificar"],["matColumnDef","eliminar"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","no-data-message",4,"ngIf"],["mat-header-cell",""],["mat-cell",""],["color","accent",3,"click"],["color","warn",3,"click"],["mat-header-row",""],["mat-row",""],[1,"no-data-message"]],template:function(i,r){i&1&&(n(0,"div",0)(1,"table",1),u(2,2),l(3,Gt,2,0,"th",3)(4,qt,2,1,"td",4),f(),u(5,5),l(6,Ut,2,0,"th",3)(7,$t,2,1,"td",4),f(),u(8,6),l(9,Qt,2,0,"th",3)(10,Wt,2,1,"td",4),f(),u(11,7),l(12,Kt,2,0,"th",3)(13,Zt,2,1,"td",4),f(),u(14,8),l(15,Yt,2,0,"th",3)(16,Jt,2,1,"td",4),f(),u(17,9),l(18,Xt,2,0,"th",3)(19,ei,3,5,"td",4),f(),u(20,10),l(21,ti,2,0,"th",3)(22,ii,3,0,"td",4),f(),u(23,11),l(24,oi,2,0,"th",3)(25,ni,3,0,"td",4),f(),l(26,ai,1,0,"tr",12)(27,ri,1,0,"tr",13),o(),l(28,ci,2,0,"div",14),o()),i&2&&(c(),s("dataSource",r.proveedores||S(4,jt)),c(25),s("matHeaderRowDef",r.displayedColumns),c(),s("matRowDefColumns",r.displayedColumns),c(),s("ngIf",!(r.proveedores!=null&&r.proveedores.length)))},dependencies:[z,B,j,N,L,G,H,V,q,U,D],styles:[".table-container[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto}table[_ngcontent-%COMP%]{width:100%}th[_ngcontent-%COMP%]{background-color:#e0f0ff;color:#1e3a8a;font-weight:700}button[_ngcontent-%COMP%]{color:#1e3a8a;font-weight:500}"]})};var si=["class","component"];function mi(e,t){e&1&&(n(0,"div",6),h(1,"mat-progress-spinner",7),n(2,"p"),a(3,"Cargando listado de proveedores..."),o()())}function pi(e,t){if(e&1){let i=P();n(0,"app-proveedores-table",10),v("editar",function(d){b(i);let m=_(2);return y(m.onEditarProveedor(d))})("eliminar",function(d){b(i);let m=_(2);return y(m.onEliminarProveedor(d))}),o()}if(e&2){let i=_(2);s("proveedores",i.getProveedoresFiltrados())}}function hi(e,t){e&1&&(n(0,"div",9)(1,"h2"),a(2,"No se encontraron Proveedores"),o(),n(3,"p"),a(4,"Ajuste los criterios de b\xFAsqueda o use el bot\xF3n superior para registrar uno nuevo."),o()())}function ui(e,t){if(e&1&&T(0,pi,1,1,"app-proveedores-table",8)(1,hi,5,0,"div",9),e&2){let i=_();M(i.getProveedoresFiltrados()&&i.getProveedoresFiltrados().length>0?0:1)}}var Te=class e{constructor(t,i){this.proveedorService=t;this.dialog=i}proveedores=null;isLoading=!0;filtroBusqueda="";ngOnInit(){this.cargarProveedores()}cargarProveedores(){this.isLoading=!0,this.proveedorService.getListadoProveedores().subscribe({next:t=>{this.proveedores=t,this.isLoading=!1},error:t=>{console.error("Error al cargar proveedores:",t),this.isLoading=!1}})}handleDialogResult(t){if(t?.success&&t.data){let i=t.data;if(this.proveedores){let r=this.proveedores.findIndex(d=>d.id===i.id);r!==-1?this.proveedores[r]=i:this.proveedores.push(i),this.proveedores=[...this.proveedores]}}}onCrearProveedor(){let t={mode:"create"};this.dialog.open(ve,{width:"600px",data:t}).afterClosed().subscribe(this.handleDialogResult.bind(this))}onEditarProveedor(t){let i={mode:"edit",proveedor:t};this.dialog.open(ve,{width:"600px",data:i}).afterClosed().subscribe(this.handleDialogResult.bind(this))}onEliminarProveedor(t){let i={titulo:"Confirmaci\xF3n de Eliminaci\xF3n",mensaje:`\xBFRealmente desea eliminar al proveedor con RUC: ${t.ruc}? Esta acci\xF3n no se puede deshacer.`,itemNombre:t.nombreProveedor};this.dialog.open(Se,{width:"450px",data:i}).afterClosed().subscribe(d=>{d?.confirmado&&this.ejecutarEliminacion(t.id)})}ejecutarEliminacion(t){this.isLoading=!0,this.proveedorService.deleteProveedor(t).pipe(ie(()=>this.isLoading=!1)).subscribe({next:()=>{alert(`Proveedor #${t} eliminado con \xE9xito.`),this.proveedores&&(this.proveedores=this.proveedores.filter(i=>i.id!==t),this.proveedores=[...this.proveedores])},error:i=>{console.error("Error al eliminar proveedor:",i),alert("No se pudo eliminar el proveedor. Error de servicio.")}})}getProveedoresFiltrados(){if(!this.proveedores)return null;if(!this.filtroBusqueda)return this.proveedores;let t=this.filtroBusqueda.toLowerCase();return this.proveedores.filter(i=>i.nombreProveedor.toLowerCase().includes(t)||i.ruc.includes(t))}static \u0275fac=function(i){return new(i||e)(g(te),g(we))};static \u0275cmp=C({type:e,selectors:[["app-lista-proveedores",8,"component"]],standalone:!1,attrs:si,decls:15,vars:2,consts:[[1,"page-container"],[1,"card-section"],[1,"header-actions"],["mat-raised-button","","color","primary",3,"click"],[1,"search-bar"],["type","text","placeholder","Buscar por Nombre o RUC",3,"ngModelChange","ngModel"],[1,"loading-state","centered-content"],["mode","indeterminate","diameter","50"],[3,"proveedores"],[1,"empty-state","centered-content"],[3,"editar","eliminar","proveedores"]],template:function(i,r){i&1&&(n(0,"div",0)(1,"h2"),a(2,"Gesti\xF3n de Proveedores"),o(),n(3,"mat-card",1)(4,"div",2)(5,"h3"),a(6,"Listado de Proveedores Registrados"),o(),n(7,"button",3),v("click",function(){return r.onCrearProveedor()}),a(8," Registrar Nuevo Proveedor "),o()(),n(9,"div",4)(10,"h3"),a(11,"Buscar Proveedor"),o(),n(12,"input",5),K("ngModelChange",function(m){return W(r.filtroBusqueda,m)||(r.filtroBusqueda=m),m}),o()(),T(13,mi,4,0,"div",6)(14,ui,2,1),o()()),i&2&&(c(12),Q("ngModel",r.filtroBusqueda),c(),M(r.isLoading?13:14))},dependencies:[Y,ue,F,A,Z,Pe,Ie],styles:[".buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:2rem}.page-container[_ngcontent-%COMP%]{padding:1.5rem;color:#1e3a8a}.card-section[_ngcontent-%COMP%]{margin-bottom:2rem;background-color:#f8f9fc}h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{color:#1e3a8a;margin-bottom:1rem}"]})};var $=class e{constructor(t,i){this.http=t;this.proveedorService=i}apiUrl=`${me.apiUrl}/api/compras`;getSolicitudesPendientes(){return this.http.get(`${this.apiUrl}/solicitudes?estado=PENDIENTE`).pipe(J(t=>t.data))}getProductosBySolicitudId(t){return this.http.get(`${this.apiUrl}/solicitudes/${t}/detalles`).pipe(J(i=>i.data.map(r=>({idProducto:r.idProducto.id,nombreProducto:r.idProducto.nombreProducto,cantidadSolicitada:r.cantidad,idProveedorSeleccionado:null,nombreProveedorSeleccionado:null,precioUnitarioReferencial:null,subtotal:null}))))}getProveedoresByProductoId(t){return this.http.get(`${this.apiUrl}/productos/${t}/cotizaciones`).pipe(J(i=>i.data.map(r=>({id:r.idProveedor.id,nombreProveedor:r.idProveedor.nombreProveedor,ruc:r.idProveedor.ruc,direccion:r.idProveedor.direccion,telefono:r.idProveedor.telefono,correo:r.idProveedor.correo,estado:r.idProveedor.estado,precioReferencial:r.precioReferencial,idProductoProveedor:r.id}))))}registrarCotizacion(t,i,r){let d={idProducto:t,idProveedor:i,precioReferencial:r};return this.http.post(`${this.apiUrl}/cotizaciones`,d)}actualizarCotizacion(t,i){let r={idProductoProveedor:t,nuevoPrecio:i};return this.http.put(`${this.apiUrl}/cotizaciones`,r)}confirmarCotizacion(t,i,r){let d={idSolicitud:t,detalles:i.map(m=>({idProducto:m.idProducto,cantidad:m.cantidadSolicitada,precioUnitario:m.precioUnitarioReferencial,idProveedor:m.idProveedorSeleccionado})),observaciones:r};return this.http.post(`${this.apiUrl}/ordenes-compra`,d).pipe(J(m=>({idOrden:m.idOrdenCompra,idSolicitud:t,proveedorPrincipal:"M\xFAltiples",fechaGeneracion:new Date().toISOString(),montoTotal:0,estadoOC:"GENERADA"})))}getOrdenesHistoricas(){return je([])}getDetalleOrdenCompra(t){return je({})}static \u0275fac=function(i){return new(i||e)(fe(ye),fe(te))};static \u0275prov=be({token:e,factory:e.\u0275fac,providedIn:"root"})};var fi=()=>[];function vi(e,t){e&1&&(n(0,"th",14),a(1," ID Solicitud "),o())}function _i(e,t){if(e&1&&(n(0,"td",15),a(1),o()),e&2){let i=t.$implicit;c(),p(" **",i.idSolicitud,"** ")}}function gi(e,t){e&1&&(n(0,"th",14),a(1," \xC1rea "),o())}function Ci(e,t){if(e&1&&(n(0,"td",15),a(1),o()),e&2){let i=t.$implicit;c(),p(" ",i.area," ")}}function bi(e,t){e&1&&(n(0,"th",14),a(1," Solicitante "),o())}function yi(e,t){if(e&1&&(n(0,"td",15),a(1),o()),e&2){let i=t.$implicit;c(),p(" ",i.solicitante," ")}}function xi(e,t){e&1&&(n(0,"th",14),a(1," F. Creaci\xF3n "),o())}function Pi(e,t){if(e&1&&(n(0,"td",15),a(1),x(2,"date"),o()),e&2){let i=t.$implicit;c(),p(" ",re(2,1,i.fechaCreacion,"dd/MM/yyyy")," ")}}function wi(e,t){e&1&&(n(0,"th",14),a(1," Estado "),o())}function Si(e,t){if(e&1&&(n(0,"td",15)(1,"span"),a(2),o()()),e&2){let i=t.$implicit;c(),qe("estado-"+i.estado.toLowerCase().replace(" ","-")),c(),w(i.estado)}}function Ei(e,t){e&1&&(n(0,"th",14),a(1," Motivo "),o())}function Ii(e,t){if(e&1&&(n(0,"td",15),a(1),o()),e&2){let i=t.$implicit;c(),p(" ",i.motivo," ")}}function Ti(e,t){e&1&&(n(0,"th",14),a(1," Acci\xF3n "),o())}function Mi(e,t){if(e&1){let i=P();n(0,"td",15)(1,"button",16),v("click",function(){let d=b(i).$implicit,m=_();return y(m.onCotizar(d))}),a(2," Cotizar "),o()()}}function Di(e,t){e&1&&h(0,"tr",17)}function Ri(e,t){e&1&&h(0,"tr",18)}function ki(e,t){e&1&&(n(0,"div",19),a(1," No hay solicitudes de compra pendientes. "),o())}var De=class e{solicitudes=null;cotizar=new R;displayedColumns=["idSolicitud","area","solicitante","fechaCreacion","estado","motivo","accion"];onCotizar(t){this.cotizar.emit(t)}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=C({type:e,selectors:[["app-solicitudes-compra-table"]],inputs:{solicitudes:"solicitudes"},outputs:{cotizar:"cotizar"},standalone:!1,decls:26,vars:5,consts:[[1,"table-container","mat-elevation-z2"],["mat-table","",1,"full-width",3,"dataSource"],["matColumnDef","idSolicitud"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","area"],["matColumnDef","solicitante"],["matColumnDef","fechaCreacion"],["matColumnDef","estado"],["matColumnDef","motivo"],["matColumnDef","accion"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","no-data-message",4,"ngIf"],["mat-header-cell",""],["mat-cell",""],["color","primary",3,"click"],["mat-header-row",""],["mat-row",""],[1,"no-data-message"]],template:function(i,r){i&1&&(n(0,"div",0)(1,"table",1),u(2,2),l(3,vi,2,0,"th",3)(4,_i,2,1,"td",4),f(),u(5,5),l(6,gi,2,0,"th",3)(7,Ci,2,1,"td",4),f(),u(8,6),l(9,bi,2,0,"th",3)(10,yi,2,1,"td",4),f(),u(11,7),l(12,xi,2,0,"th",3)(13,Pi,3,4,"td",4),f(),u(14,8),l(15,wi,2,0,"th",3)(16,Si,3,3,"td",4),f(),u(17,9),l(18,Ei,2,0,"th",3)(19,Ii,2,1,"td",4),f(),u(20,10),l(21,Ti,2,0,"th",3)(22,Mi,3,0,"td",4),f(),l(23,Di,1,0,"tr",11)(24,Ri,1,0,"tr",12),o(),l(25,ki,2,0,"div",13),o()),i&2&&(c(),s("dataSource",r.solicitudes||S(4,fi)),c(22),s("matHeaderRowDef",r.displayedColumns),c(),s("matRowDefColumns",r.displayedColumns),c(),s("ngIf",!(r.solicitudes!=null&&r.solicitudes.length)))},dependencies:[z,B,j,N,L,G,H,V,q,U,D,ce],styles:[".table-container[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto}table[_ngcontent-%COMP%]{width:100%}th[_ngcontent-%COMP%]{background-color:#e0f0ff;color:#1e3a8a;font-weight:700}button[_ngcontent-%COMP%]{color:#1e3a8a;font-weight:500}"]})};var Fi=["class","component"],Ai=()=>["/GestionCompras/historial-compras"];function zi(e,t){if(e&1){let i=P();n(0,"app-solicitudes-compra-table",8),v("cotizar",function(d){b(i);let m=_(2);return y(m.onVerCotizacion(d))}),o()}if(e&2){let i=_(2);s("solicitudes",i.getSolicitudesFiltradas())}}function Li(e,t){e&1&&(n(0,"div",7)(1,"h2"),a(2,"No se encontraron Solicitudes Pendientes"),o(),n(3,"p"),a(4,"Ajuste los criterios de b\xFAsqueda o verifique si existen \xF3rdenes hist\xF3ricas."),o()())}function Bi(e,t){if(e&1&&T(0,zi,1,1,"app-solicitudes-compra-table",6)(1,Li,5,0,"div",7),e&2){let i=_();M(i.getSolicitudesFiltradas()&&i.getSolicitudesFiltradas().length>0?0:1)}}var Re=class e{constructor(t,i){this.comprasService=t;this.router=i}solicitudesPendientes=null;isLoading=!0;filtroBusqueda="";ngOnInit(){this.cargarSolicitudes()}cargarSolicitudes(){this.isLoading=!0,this.comprasService.getSolicitudesPendientes().subscribe({next:t=>{this.solicitudesPendientes=t,this.isLoading=!1},error:t=>{console.error("Error al cargar solicitudes:",t),this.isLoading=!1}})}onVerCotizacion(t){this.router.navigate(["/GestionCompras/cotizacion-generacion",t.id])}getSolicitudesFiltradas(){if(!this.solicitudesPendientes)return null;if(!this.filtroBusqueda)return this.solicitudesPendientes;let t=this.filtroBusqueda.toLowerCase();return this.solicitudesPendientes.filter(i=>(i.solicitante?.toLowerCase().includes(t)??!1)||(i.area?.toLowerCase().includes(t)??!1)||i.id.toString().includes(t))}static \u0275fac=function(i){return new(i||e)(g($),g(de))};static \u0275cmp=C({type:e,selectors:[["app-solicitudes-list",8,"component"]],standalone:!1,attrs:Fi,decls:14,vars:4,consts:[[1,"page-container"],[1,"card-section"],[1,"search-bar"],["type","text","placeholder","Buscar por ID, \xC1rea o Solicitante",3,"ngModelChange","ngModel"],[1,"footer-actions"],["color","default",3,"routerLink"],[3,"solicitudes"],[1,"empty-state","centered-content"],[3,"cotizar","solicitudes"]],template:function(i,r){i&1&&(n(0,"div",0)(1,"h2"),a(2,"Solicitudes de Compra Pendientes"),o(),n(3,"mat-card",1)(4,"h3"),a(5,"Lista de solicitudes listas para iniciar el proceso de cotizaci\xF3n."),o(),n(6,"div",2)(7,"h3"),a(8,"Buscar Solicitud"),o(),n(9,"input",3),K("ngModelChange",function(m){return W(r.filtroBusqueda,m)||(r.filtroBusqueda=m),m}),o()(),T(10,Bi,2,1),o(),n(11,"div",4)(12,"button",5),a(13," Ver Historial General de Compras "),o()()()),i&2&&(c(9),Q("ngModel",r.filtroBusqueda),c(),M(r.isLoading?-1:10),c(2),s("routerLink",S(3,Ai)))},dependencies:[Y,le,F,A,Z,De],styles:[".buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:2rem}.page-container[_ngcontent-%COMP%]{padding:1.5rem;color:#1e3a8a}.card-section[_ngcontent-%COMP%]{margin-bottom:2rem;background-color:#f8f9fc}h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{color:#1e3a8a;margin-bottom:1rem}"]})};var Ni=()=>[];function Hi(e,t){e&1&&(n(0,"th",10),a(1," Nombre Proveedor "),o())}function Vi(e,t){if(e&1&&(n(0,"td",11),a(1),o()),e&2){let i=t.$implicit;c(),p(" **",i.nombreProveedor,"** ")}}function ji(e,t){e&1&&(n(0,"th",10),a(1," Precio Referencial "),o())}function Gi(e,t){if(e&1&&(n(0,"td",11),a(1),x(2,"currency"),o()),e&2){let i=t.$implicit;c(),p(" ",E(2,1,i.precioReferencial,"USD","symbol","1.2-2")," ")}}function qi(e,t){e&1&&(n(0,"th",10),a(1," Acci\xF3n "),o())}function Ui(e,t){if(e&1){let i=P();n(0,"td",11)(1,"button",12),v("click",function(){let d=b(i).$implicit,m=_();return y(m.onSeleccionar(d))}),a(2," Seleccionar "),o()()}}function $i(e,t){e&1&&h(0,"tr",13)}function Qi(e,t){e&1&&h(0,"tr",14)}function Wi(e,t){e&1&&(n(0,"div",15),a(1," No hay proveedores disponibles para este producto. "),o())}var ke=class e{proveedores=[];displayedColumns=["nombreProveedor","precioReferencial","accion"];seleccionar=new R;onSeleccionar(t){this.seleccionar.emit(t)}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=C({type:e,selectors:[["app-proveedores-productos-table"]],inputs:{proveedores:"proveedores"},outputs:{seleccionar:"seleccionar"},standalone:!1,decls:14,vars:5,consts:[[1,"table-container","mat-elevation-z2"],["mat-table","",1,"full-width",3,"dataSource"],["matColumnDef","nombreProveedor"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","precioReferencial"],["matColumnDef","accion"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","no-data-message",4,"ngIf"],["mat-header-cell",""],["mat-cell",""],["color","accent",3,"click"],["mat-header-row",""],["mat-row",""],[1,"no-data-message"]],template:function(i,r){i&1&&(n(0,"div",0)(1,"table",1),u(2,2),l(3,Hi,2,0,"th",3)(4,Vi,2,1,"td",4),f(),u(5,5),l(6,ji,2,0,"th",3)(7,Gi,3,6,"td",4),f(),u(8,6),l(9,qi,2,0,"th",3)(10,Ui,3,0,"td",4),f(),l(11,$i,1,0,"tr",7)(12,Qi,1,0,"tr",8),o(),l(13,Wi,2,0,"div",9),o()),i&2&&(c(),s("dataSource",r.proveedores||S(4,Ni)),c(10),s("matHeaderRowDef",r.displayedColumns),c(),s("matRowDefColumns",r.displayedColumns),c(),s("ngIf",!(r.proveedores!=null&&r.proveedores.length)))},dependencies:[z,B,j,N,L,G,H,V,q,U,D,O],styles:[".table-container[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto}table[_ngcontent-%COMP%]{width:100%}th[_ngcontent-%COMP%]{background-color:#e0f0ff;color:#1e3a8a;font-weight:700}button[_ngcontent-%COMP%]{color:#1e3a8a;font-weight:500}"]})};var Zi=["class","component"];function Yi(e,t){e&1&&(n(0,"div",9),h(1,"mat-spinner",10),n(2,"p"),a(3,"Cargando proveedores disponibles..."),o()())}function Ji(e,t){if(e&1){let i=P();n(0,"div")(1,"app-proveedores-productos-table",11),v("seleccionar",function(d){b(i);let m=_();return y(m.onProveedorSeleccionado(d))}),o()()}if(e&2){let i=_();c(),s("proveedores",i.proveedoresDisponibles)}}var Oe=class e{constructor(t,i,r){this.dialogRef=t;this.data=i;this.comprasService=r;this.productoId=i.producto.idProducto,this.productoNombre=i.producto.nombreProducto}productoId;productoNombre;proveedoresDisponibles=[];isLoading=!0;ngOnInit(){this.comprasService.getProveedoresByProductoId(this.productoId).subscribe({next:t=>{this.proveedoresDisponibles=t,this.isLoading=!1},error:t=>{console.error("Error al cargar proveedores:",t),this.isLoading=!1}})}onProveedorSeleccionado(t){let i={proveedorSeleccionado:t};this.dialogRef.close(i)}onCancel(){this.dialogRef.close()}static \u0275fac=function(i){return new(i||e)(g(pe),g(he),g($))};static \u0275cmp=C({type:e,selectors:[["app-popup-proveedor-producto",8,"component"]],standalone:!1,attrs:Zi,decls:11,vars:4,consts:[["color","primary"],[1,"dialog-title"],[1,"spacer"],["mat-icon-button","",3,"click"],["mat-dialog-content","",1,"dialog-content"],["class","loading-spinner",4,"ngIf"],[4,"ngIf"],["mat-dialog-actions","","align","end"],["mat-button","","color","warn",3,"click"],[1,"loading-spinner"],["diameter","30"],[3,"seleccionar","proveedores"]],template:function(i,r){i&1&&(n(0,"mat-toolbar",0)(1,"span",1),a(2),o(),h(3,"span",2),n(4,"button",3),v("click",function(){return r.onCancel()}),o()(),n(5,"div",4),l(6,Yi,4,0,"div",5)(7,Ji,2,1,"div",6),o(),n(8,"div",7)(9,"button",8),v("click",function(){return r.onCancel()}),a(10,"Cancelar"),o()()),i&2&&(c(2),ae(" Seleccionar Proveedor: Producto **",r.productoId," - ",r.productoNombre,"** "),c(4),s("ngIf",r.isLoading),c(),s("ngIf",!r.isLoading))},dependencies:[se,ue,D,Pe,tt,ke],encapsulation:2})};var Xi=()=>[];function eo(e,t){e&1&&(n(0,"th",13),a(1," Producto "),o())}function to(e,t){if(e&1&&(n(0,"td",14),a(1),o()),e&2){let i=t.$implicit;c(),ae(" **",i.idProducto," - ",i.nombreProducto,"** ")}}function io(e,t){e&1&&(n(0,"th",13),a(1," Cant. Solicitada "),o())}function oo(e,t){if(e&1&&(n(0,"td",14),a(1),o()),e&2){let i=t.$implicit;c(),p(" ",i.cantidadSolicitada," ")}}function no(e,t){e&1&&(n(0,"th",13),a(1," Proveedor "),o())}function ao(e,t){if(e&1&&(n(0,"td",14),a(1),o()),e&2){let i=t.$implicit;c(),p(" ",i.nombreProveedorSeleccionado||"Pendiente"," ")}}function ro(e,t){e&1&&(n(0,"th",13),a(1," Precio Unitario "),o())}function co(e,t){if(e&1){let i=P();n(0,"td",14)(1,"input",15),K("ngModelChange",function(d){let m=b(i).$implicit;return W(m.precioUnitarioReferencial,d)||(m.precioUnitarioReferencial=d),y(d)}),v("change",function(){let d=b(i).$implicit,m=_();return y(m.onPrecioChange(d))}),o(),n(2,"span",16),a(3,"$"),o()()}if(e&2){let i=t.$implicit;c(),Q("ngModel",i.precioUnitarioReferencial)}}function lo(e,t){e&1&&(n(0,"th",13),a(1," Subtotal "),o())}function so(e,t){if(e&1&&(n(0,"td",14),a(1),x(2,"currency"),o()),e&2){let i=t.$implicit;c(),p(" ",i.subtotal==null?"-":E(2,1,i.subtotal,"USD","symbol","1.2-2")," ")}}function mo(e,t){e&1&&(n(0,"th",13),a(1," Acci\xF3n "),o())}function po(e,t){if(e&1){let i=P();n(0,"td",14)(1,"button",17),v("click",function(){let d=b(i).$implicit,m=_();return y(m.onSeleccionarProveedor(d))}),a(2," Seleccionar Proveedor "),o()()}}function ho(e,t){e&1&&h(0,"tr",18)}function uo(e,t){e&1&&h(0,"tr",19)}function fo(e,t){e&1&&(n(0,"div",20),a(1," No hay productos para cotizar. "),o())}var Fe=class e{productos=[];seleccionarProveedor=new R;productoActualizado=new R;displayedColumns=["idProducto","cantidadSolicitada","proveedor","precioReferencial","accion","subtotal"];onPrecioChange(t){let i=t.precioUnitarioReferencial||0;t.subtotal=t.cantidadSolicitada*i,this.productoActualizado.emit(t)}onSeleccionarProveedor(t){this.seleccionarProveedor.emit(t)}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=C({type:e,selectors:[["app-cotizacion-productos-table"]],inputs:{productos:"productos"},outputs:{seleccionarProveedor:"seleccionarProveedor",productoActualizado:"productoActualizado"},standalone:!1,decls:23,vars:5,consts:[[1,"table-container","mat-elevation-z2"],["mat-table","",1,"full-width",3,"dataSource"],["matColumnDef","idProducto"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","cantidadSolicitada"],["matColumnDef","proveedor"],["matColumnDef","precioReferencial"],["matColumnDef","subtotal"],["matColumnDef","accion"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","no-data-message",4,"ngIf"],["mat-header-cell",""],["mat-cell",""],["matInput","","type","number","min","0","placeholder","-",3,"ngModelChange","change","ngModel"],["matPrefix",""],["color","accent",3,"click"],["mat-header-row",""],["mat-row",""],[1,"no-data-message"]],template:function(i,r){i&1&&(n(0,"div",0)(1,"table",1),u(2,2),l(3,eo,2,0,"th",3)(4,to,2,2,"td",4),f(),u(5,5),l(6,io,2,0,"th",3)(7,oo,2,1,"td",4),f(),u(8,6),l(9,no,2,0,"th",3)(10,ao,2,1,"td",4),f(),u(11,7),l(12,ro,2,0,"th",3)(13,co,4,1,"td",4),f(),u(14,8),l(15,lo,2,0,"th",3)(16,so,3,6,"td",4),f(),u(17,9),l(18,mo,2,0,"th",3)(19,po,3,0,"td",4),f(),l(20,ho,1,0,"tr",10)(21,uo,1,0,"tr",11),o(),l(22,fo,2,0,"div",12),o()),i&2&&(c(),s("dataSource",r.productos||S(4,Xi)),c(19),s("matHeaderRowDef",r.displayedColumns),c(),s("matRowDefColumns",r.displayedColumns),c(),s("ngIf",!(r.productos!=null&&r.productos.length)))},dependencies:[xt,z,B,j,N,L,G,H,V,q,U,D,F,dt,A,mt,Z,O],styles:[".table-container[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto}table[_ngcontent-%COMP%]{width:100%}th[_ngcontent-%COMP%]{background-color:#e0f0ff;color:#1e3a8a;font-weight:700}button[_ngcontent-%COMP%]{color:#1e3a8a;font-weight:500}"]})};var _o=["class","component"],go=.18,Ae=class e{constructor(t,i,r,d){this.route=t;this.comprasService=i;this.dialog=r;this.router=d}idSolicitud=0;productosACotizar=null;isLoading=!0;isConfirming=!1;justificacionUsuario="";get subtotalGeneral(){return this.productosACotizar?this.productosACotizar.reduce((t,i)=>t+(i.subtotal||0),0):0}get igv(){return this.subtotalGeneral*go}get costoTotal(){return this.subtotalGeneral+this.igv}get puedeConfirmarCompra(){return!this.productosACotizar||this.productosACotizar.length===0?!1:this.productosACotizar.every(i=>i.idProveedorSeleccionado!==null&&i.precioUnitarioReferencial!==null&&i.precioUnitarioReferencial>0)&&this.justificacionUsuario.trim().length>10}ngOnInit(){this.route.paramMap.subscribe(t=>{let i=t.get("idSolicitud");i?(this.idSolicitud=+i,this.cargarProductosCotizacion(this.idSolicitud)):this.isLoading=!1})}cargarProductosCotizacion(t){this.isLoading=!0,this.comprasService.getProductosBySolicitudId(t).subscribe({next:i=>{this.productosACotizar=i.map(r=>Ze(Ve({},r),{subtotal:(r.precioUnitarioReferencial||0)*r.cantidadSolicitada})),this.isLoading=!1},error:i=>{console.error("Error al cargar productos de cotizaci\xF3n:",i),this.isLoading=!1}})}onAbrirSelectorProveedor(t){this.dialog.open(Oe,{width:"800px",data:{producto:t}}).afterClosed().subscribe(r=>{r&&r.proveedorSeleccionado&&this.actualizarProducto(t,r.proveedorSeleccionado)})}actualizarProducto(t,i){if(!this.productosACotizar)return;let r=this.productosACotizar.findIndex(d=>d.idProducto===t.idProducto);if(r!==-1){let d=Ve({},this.productosACotizar[r]);d.idProveedorSeleccionado=i.id,d.nombreProveedorSeleccionado=i.nombreProveedor,d.precioUnitarioReferencial=i.precioReferencial,d.subtotal=t.cantidadSolicitada*i.precioReferencial,this.productosACotizar[r]=d,this.productosACotizar=[...this.productosACotizar]}}onProductoActualizado(t){this.productosACotizar=[...this.productosACotizar||[]]}onVerHistorial(){alert(`Ver Historial de la Solicitud #${this.idSolicitud}`)}onConfirmarCompra(){if(!this.puedeConfirmarCompra){alert("Debe seleccionar proveedor y precio para todos los productos y proporcionar una justificaci\xF3n.");return}this.isConfirming=!0,this.comprasService.confirmarCotizacion(this.idSolicitud,this.productosACotizar,this.justificacionUsuario).pipe(ie(()=>this.isConfirming=!1)).subscribe({next:t=>{console.log("Cotizaci\xF3n Confirmada. OC Generada:",t.idOrden),this.router.navigate(["/GestionCompras/orden-compra-resumen",t.idOrden])},error:t=>{console.error("Error al generar la Orden de Compra:",t),alert("Error: No se pudo generar la Orden de Compra. Int\xE9ntelo de nuevo.")}})}static \u0275fac=function(i){return new(i||e)(g(xe),g($),g(we),g(de))};static \u0275cmp=C({type:e,selectors:[["app-cotizacion-generacion",8,"component"]],standalone:!1,attrs:_o,decls:55,vars:23,consts:[[1,"page-container"],[1,"card-section","request-details"],[1,"detail-grid"],[1,"card-section"],[3,"seleccionarProveedor","productoActualizado","productos"],[1,"footer-summary"],[1,"justification-card"],["rows","5","placeholder","Explique el porqu\xE9 de la selecci\xF3n de proveedores y precios.",3,"ngModelChange","ngModel"],[1,"totals-card"],[1,"total-row"],[1,"value"],[1,"total-row","total-final"],["color","accent",1,"confirm-button",3,"click","disabled"]],template:function(i,r){i&1&&(n(0,"div",0)(1,"h2"),a(2),o(),n(3,"mat-card",1)(4,"h3"),a(5,"Detalles de la Solicitud"),o(),n(6,"div",2)(7,"p")(8,"strong"),a(9,"\xC1rea Solicitante:"),o(),a(10," [Nombre del \xC1rea]"),o(),n(11,"p")(12,"strong"),a(13,"Solicitante:"),o(),a(14," [Nombre del Solicitante]"),o(),n(15,"p")(16,"strong"),a(17,"Fecha de Creaci\xF3n:"),o(),a(18," [DD/MM/YYYY]"),o(),n(19,"p")(20,"strong"),a(21,"Motivo:"),o(),a(22," [Breve descripci\xF3n del motivo de la solicitud]"),o()()(),n(23,"mat-card",3)(24,"h3"),a(25,"Productos a Cotizar"),o(),n(26,"app-cotizacion-productos-table",4),v("seleccionarProveedor",function(m){return r.onAbrirSelectorProveedor(m)})("productoActualizado",function(m){return r.onProductoActualizado(m)}),o()(),n(27,"div",5)(28,"mat-card",6)(29,"h3"),a(30,"Justificaci\xF3n de la Decisi\xF3n"),o(),n(31,"textarea",7),K("ngModelChange",function(m){return W(r.justificacionUsuario,m)||(r.justificacionUsuario=m),m}),o()(),n(32,"mat-card",8)(33,"h3"),a(34,"Resumen Econ\xF3mico"),o(),n(35,"div",9)(36,"span"),a(37,"Subtotal:"),o(),n(38,"span",10),a(39),x(40,"currency"),o()(),n(41,"div",9)(42,"span"),a(43),o(),n(44,"span",10),a(45),x(46,"currency"),o()(),n(47,"div",11)(48,"strong"),a(49,"Costo Total:"),o(),n(50,"strong",10),a(51),x(52,"currency"),o()(),n(53,"button",12),v("click",function(){return r.onConfirmarCompra()}),a(54," Confirmar Compra "),o()()()()),i&2&&(c(2),p("Cotizaci\xF3n de Solicitud N\xB0 ",r.idSolicitud),c(24),s("productos",r.productosACotizar),c(5),Q("ngModel",r.justificacionUsuario),c(8),w(E(40,8,r.subtotalGeneral,"USD","symbol","1.2-2")),c(4),p("IGV (",.18*100,"%):"),c(2),w(E(46,13,r.igv,"USD","symbol","1.2-2")),c(6),w(E(52,18,r.costoTotal,"USD","symbol","1.2-2")),c(2),s("disabled",!r.puedeConfirmarCompra))},dependencies:[Y,F,A,Z,Fe,O],styles:[".buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:2rem}.page-container[_ngcontent-%COMP%]{padding:1.5rem;color:#1e3a8a}.card-section[_ngcontent-%COMP%]{margin-bottom:2rem;background-color:#f8f9fc}h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{color:#1e3a8a;margin-bottom:1rem}"]})};var Co=()=>[];function bo(e,t){e&1&&(n(0,"th",13),a(1," OC N\xB0 "),o())}function yo(e,t){if(e&1&&(n(0,"td",14),a(1),o()),e&2){let i=t.$implicit;c(),p(" **",i.idOrden,"** ")}}function xo(e,t){e&1&&(n(0,"th",13),a(1," Solicitud N\xB0 "),o())}function Po(e,t){if(e&1&&(n(0,"td",14),a(1),o()),e&2){let i=t.$implicit;c(),p(" ",i.idSolicitud," ")}}function wo(e,t){e&1&&(n(0,"th",13),a(1," Proveedor Principal "),o())}function So(e,t){if(e&1&&(n(0,"td",14),a(1),o()),e&2){let i=t.$implicit;c(),p(" ",i.proveedorPrincipal," ")}}function Eo(e,t){e&1&&(n(0,"th",13),a(1," Fecha "),o())}function Io(e,t){if(e&1&&(n(0,"td",14),a(1),x(2,"date"),o()),e&2){let i=t.$implicit;c(),p(" ",re(2,1,i.fechaGeneracion,"dd/MM/yyyy")," ")}}function To(e,t){e&1&&(n(0,"th",13),a(1," Monto Total "),o())}function Mo(e,t){if(e&1&&(n(0,"td",14),a(1),x(2,"currency"),o()),e&2){let i=t.$implicit;c(),p(" ",E(2,1,i.montoTotal,"USD","symbol","1.2-2")," ")}}function Do(e,t){e&1&&(n(0,"th",13),a(1," Estado "),o())}function Ro(e,t){if(e&1&&(n(0,"td",14),a(1),o()),e&2){let i=t.$implicit;c(),p(" ",i.estadoOC," ")}}function ko(e,t){e&1&&(n(0,"th",13),a(1," Acci\xF3n "),o())}function Oo(e,t){if(e&1){let i=P();n(0,"td",14)(1,"button",15),v("click",function(){let d=b(i).$implicit,m=_();return y(m.onVerDetalle(d.idOrden))}),a(2," Ver Detalle "),o()()}}function Fo(e,t){e&1&&h(0,"tr",16)}function Ao(e,t){e&1&&h(0,"tr",17)}var ze=class e{ordenes=[];displayedColumns=["idOrden","idSolicitud","proveedorPrincipal","fechaGeneracion","montoTotal","estadoOC","accion"];verDetalle=new R;onVerDetalle(t){this.verDetalle.emit(t)}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=C({type:e,selectors:[["app-ordenes-compra-table"]],inputs:{ordenes:"ordenes"},outputs:{verDetalle:"verDetalle"},standalone:!1,decls:25,vars:4,consts:[[1,"table-container","mat-elevation-z2"],["mat-table","",1,"full-width",3,"dataSource"],["matColumnDef","idOrden"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","idSolicitud"],["matColumnDef","proveedorPrincipal"],["matColumnDef","fechaGeneracion"],["matColumnDef","montoTotal"],["matColumnDef","estadoOC"],["matColumnDef","accion"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["color","primary",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(i,r){i&1&&(n(0,"div",0)(1,"table",1),u(2,2),l(3,bo,2,0,"th",3)(4,yo,2,1,"td",4),f(),u(5,5),l(6,xo,2,0,"th",3)(7,Po,2,1,"td",4),f(),u(8,6),l(9,wo,2,0,"th",3)(10,So,2,1,"td",4),f(),u(11,7),l(12,Eo,2,0,"th",3)(13,Io,3,4,"td",4),f(),u(14,8),l(15,To,2,0,"th",3)(16,Mo,3,6,"td",4),f(),u(17,9),l(18,Do,2,0,"th",3)(19,Ro,2,1,"td",4),f(),u(20,10),l(21,ko,2,0,"th",3)(22,Oo,3,0,"td",4),f(),l(23,Fo,1,0,"tr",11)(24,Ao,1,0,"tr",12),o()()),i&2&&(c(),s("dataSource",r.ordenes||S(3,Co)),c(22),s("matHeaderRowDef",r.displayedColumns),c(),s("matRowDefColumns",r.displayedColumns))},dependencies:[z,B,j,N,L,G,H,V,q,U,O,ce],styles:[".table-container[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto}table[_ngcontent-%COMP%]{width:100%}th[_ngcontent-%COMP%]{background-color:#e0f0ff;color:#1e3a8a;font-weight:700}button[_ngcontent-%COMP%]{color:#1e3a8a;font-weight:500}"]})};var Lo=["class","component"],Bo=()=>["/GestionCompras/solicitudes-pendientes"];function No(e,t){e&1&&(n(0,"div",4),h(1,"mat-progress-spinner",7),n(2,"p"),a(3,"Cargando historial de \xF3rdenes..."),o()())}function Ho(e,t){if(e&1){let i=P();n(0,"app-ordenes-compra-table",10),v("verDetalle",function(d){b(i);let m=_(2);return y(m.onVerDetalle(d))}),o()}if(e&2){let i=_(2);s("ordenes",i.getOrdenesFiltradas())}}function Vo(e,t){e&1&&(n(0,"div",9)(1,"h2"),a(2,"No se encontraron \xD3rdenes de Compra"),o(),n(3,"p"),a(4,"Ajuste los criterios de b\xFAsqueda o verifique si existen \xF3rdenes hist\xF3ricas."),o()())}function jo(e,t){if(e&1&&T(0,Ho,1,1,"app-ordenes-compra-table",8)(1,Vo,5,0,"div",9),e&2){let i=_();M(i.getOrdenesFiltradas()&&i.getOrdenesFiltradas().length>0?0:1)}}var Le=class e{constructor(t,i){this.comprasService=t;this.router=i}ordenesHistoricas=null;isLoading=!0;filtroBusqueda="";ngOnInit(){this.cargarOrdenes()}cargarOrdenes(){this.isLoading=!0,this.comprasService.getOrdenesHistoricas().subscribe({next:t=>{this.ordenesHistoricas=t,this.isLoading=!1},error:t=>{console.error("Error al cargar historial de \xF3rdenes:",t),this.isLoading=!1}})}getOrdenesFiltradas(){if(!this.ordenesHistoricas)return null;if(!this.filtroBusqueda)return this.ordenesHistoricas;let t=this.filtroBusqueda.toLowerCase();return this.ordenesHistoricas.filter(i=>i.idOrden.toString().includes(t)||(typeof i.idSolicitud=="object"?i.idSolicitud.id.toString():i.idSolicitud.toString()).includes(t)||i.proveedorPrincipal.toLowerCase().includes(t)||i.estadoOC.toLowerCase().includes(t))}onVerDetalle(t){this.router.navigate(["/GestionCompras/orden-compra-resumen",t])}static \u0275fac=function(i){return new(i||e)(g($),g(de))};static \u0275cmp=C({type:e,selectors:[["app-historial-compras",8,"component"]],standalone:!1,attrs:Lo,decls:16,vars:4,consts:[[1,"page-container"],[1,"card-section"],[1,"search-bar"],["type","text","placeholder","Buscar por OC N\xB0, Solicitud N\xB0, Proveedor o Estado",3,"ngModelChange","ngModel"],[1,"loading-state","centered-content"],[1,"footer-actions"],["color","primary",3,"routerLink"],["mode","indeterminate","diameter","50"],[3,"ordenes"],[1,"empty-state","centered-content"],[3,"verDetalle","ordenes"]],template:function(i,r){i&1&&(n(0,"div",0)(1,"h2"),a(2,"Historial General de \xD3rdenes de Compra"),o(),n(3,"mat-card",1)(4,"h3"),a(5,"\xD3rdenes finalizadas, recibidas o canceladas."),o(),n(6,"div",2)(7,"h3"),a(8,"Buscar Orden de Compra"),o(),n(9,"input",3),K("ngModelChange",function(m){return W(r.filtroBusqueda,m)||(r.filtroBusqueda=m),m}),o()()(),n(10,"mat-card",1),T(11,No,4,0,"div",4)(12,jo,2,1),o(),n(13,"div",5)(14,"button",6),a(15," Volver a Solicitudes Pendientes "),o()()()),i&2&&(c(9),Q("ngModel",r.filtroBusqueda),c(2),M(r.isLoading?11:12),c(3),s("routerLink",S(3,Bo)))},dependencies:[Y,ue,le,F,A,Z,ze],styles:[".buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:2rem}.page-container[_ngcontent-%COMP%]{padding:1.5rem;color:#1e3a8a}.card-section[_ngcontent-%COMP%]{margin-bottom:2rem;background-color:#f8f9fc}h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{color:#1e3a8a;margin-bottom:1rem}"]})};var Go=()=>[];function qo(e,t){e&1&&(n(0,"th",14),a(1," Producto "),o())}function Uo(e,t){if(e&1&&(n(0,"td",15),a(1),o()),e&2){let i=t.$implicit;c(),ae(" **",i.idProducto," - ",i.nombreProducto,"** ")}}function $o(e,t){e&1&&h(0,"td",16)}function Qo(e,t){e&1&&(n(0,"th",14),a(1," Cantidad "),o())}function Wo(e,t){if(e&1&&(n(0,"td",15),a(1),o()),e&2){let i=t.$implicit;c(),p(" ",i.cantidadComprada," ")}}function Ko(e,t){e&1&&h(0,"td",16)}function Zo(e,t){e&1&&(n(0,"th",14),a(1," Proveedor "),o())}function Yo(e,t){if(e&1&&(n(0,"td",15),a(1),o()),e&2){let i=t.$implicit;c(),p(" ",i.nombreProveedorFinal," ")}}function Jo(e,t){e&1&&h(0,"td",16)}function Xo(e,t){e&1&&(n(0,"th",14),a(1," Precio Unitario "),o())}function en(e,t){if(e&1&&(n(0,"td",15),a(1),x(2,"currency"),o()),e&2){let i=t.$implicit;c(),p(" ",E(2,1,i.precioUnitarioFinal,"USD","symbol","1.2-2")," ")}}function tn(e,t){e&1&&(n(0,"td",16)(1,"strong"),a(2,"TOTAL (Subtotal Productos)"),o()())}function on(e,t){e&1&&(n(0,"th",14),a(1," Subtotal "),o())}function nn(e,t){if(e&1&&(n(0,"td",15),a(1),x(2,"currency"),o()),e&2){let i=t.$implicit;c(),p(" ",E(2,1,i.subtotal,"USD","symbol","1.2-2")," ")}}function an(e,t){if(e&1&&(n(0,"td",16)(1,"strong"),a(2),x(3,"currency"),o()()),e&2){let i=_();c(2),w(E(3,1,i.getTotalCompra(),"USD","symbol","1.2-2"))}}function rn(e,t){e&1&&h(0,"tr",17)}function cn(e,t){e&1&&h(0,"tr",18)}function dn(e,t){e&1&&h(0,"tr",19)}function ln(e,t){e&1&&(n(0,"div",20),a(1," No hay productos en este resumen de compra. "),o())}var Be=class e{resumen=[];displayedColumns=["idProducto","cantidadComprada","proveedor","precioUnitario","subtotal"];footerColumns=["totalLabel","totalValue"];getTotalCompra(){return this.resumen?this.resumen.reduce((t,i)=>t+(i.subtotal||0),0):0}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=C({type:e,selectors:[["app-resumen-compra-table"]],inputs:{resumen:"resumen"},standalone:!1,decls:26,vars:6,consts:[[1,"table-container","mat-elevation-z2"],["mat-table","",1,"full-width",3,"dataSource"],["matColumnDef","idProducto"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-footer-cell","",4,"matFooterCellDef"],["matColumnDef","cantidadComprada"],["matColumnDef","proveedor"],["matColumnDef","precioUnitario"],["matColumnDef","subtotal"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",4,"matFooterRowDef"],["class","no-data-message",4,"ngIf"],["mat-header-cell",""],["mat-cell",""],["mat-footer-cell",""],["mat-header-row",""],["mat-row",""],["mat-footer-row",""],[1,"no-data-message"]],template:function(i,r){i&1&&(n(0,"div",0)(1,"table",1),u(2,2),l(3,qo,2,0,"th",3)(4,Uo,2,2,"td",4)(5,$o,1,0,"td",5),f(),u(6,6),l(7,Qo,2,0,"th",3)(8,Wo,2,1,"td",4)(9,Ko,1,0,"td",5),f(),u(10,7),l(11,Zo,2,0,"th",3)(12,Yo,2,1,"td",4)(13,Jo,1,0,"td",5),f(),u(14,8),l(15,Xo,2,0,"th",3)(16,en,3,6,"td",4)(17,tn,3,0,"td",5),f(),u(18,9),l(19,on,2,0,"th",3)(20,nn,3,6,"td",4)(21,an,4,6,"td",5),f(),l(22,rn,1,0,"tr",10)(23,cn,1,0,"tr",11)(24,dn,1,0,"tr",12),o(),l(25,ln,2,0,"div",13),o()),i&2&&(c(),s("dataSource",r.resumen||S(5,Go)),c(21),s("matHeaderRowDef",r.displayedColumns),c(),s("matRowDefColumns",r.displayedColumns),c(),s("matFooterRowDef",r.displayedColumns),c(),s("ngIf",!(r.resumen!=null&&r.resumen.length)))},dependencies:[z,B,j,N,L,G,vt,gt,H,V,_t,q,U,Ct,D,O],styles:[".table-container[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto}table[_ngcontent-%COMP%]{width:100%}th[_ngcontent-%COMP%]{background-color:#e0f0ff;color:#1e3a8a;font-weight:700}button[_ngcontent-%COMP%]{color:#1e3a8a;font-weight:500}"]})};var mn=["class","component"],pn=()=>["/GestionCompras/solicitudes-pendientes"];function hn(e,t){if(e&1&&a(0),e&2){let i=_();p(" ",i.idOrden," ")}}function un(e,t){if(e&1&&(n(0,"h3"),a(1,"Detalles de la Orden"),o(),n(2,"div",15)(3,"p")(4,"strong"),a(5,"N\xB0 de Orden:"),o(),a(6),o(),n(7,"p")(8,"strong"),a(9,"N\xB0 de Solicitud Origen:"),o(),a(10),o(),n(11,"p")(12,"strong"),a(13,"Proveedor Principal:"),o(),a(14),o(),n(15,"p")(16,"strong"),a(17,"Fecha Generaci\xF3n:"),o(),a(18),x(19,"date"),o(),n(20,"p")(21,"strong"),a(22,"Estado:"),o(),a(23),o()()),e&2){let i=_();c(6),p(" ",i.detalleOrden.idOrden),c(4),p(" ",i.detalleOrden.idSolicitud),c(4),p(" ",i.detalleOrden.proveedorPrincipal),c(4),p(" ",re(19,5,i.detalleOrden.fechaGeneracion,"dd/MM/yyyy")),c(5),p(" ",i.detalleOrden.estadoOC)}}function fn(e,t){if(e&1&&h(0,"app-resumen-compra-table",6),e&2){let i=_();s("resumen",i.productosResumen)}}function vn(e,t){e&1&&(n(0,"div",7)(1,"h2"),a(2,"No hay Productos"),o(),n(3,"p"),a(4,"La orden no contiene productos detallados."),o()())}var _n=.18,Ne=class e{constructor(t,i){this.route=t;this.comprasService=i}idOrden=0;detalleOrden=null;productosResumen=null;justificacionCompra="";isLoading=!0;get subtotalGeneral(){return this.productosResumen?this.productosResumen.reduce((t,i)=>t+(i.subtotal||0),0):0}get igv(){return this.subtotalGeneral*_n}get costoTotal(){return this.subtotalGeneral+this.igv}ngOnInit(){this.route.paramMap.subscribe(t=>{let i=t.get("idOrden");i?(this.idOrden=+i,this.cargarResumenOrden(this.idOrden)):(console.error("ID de Orden de Compra no encontrado en la URL."),this.isLoading=!1)})}cargarResumenOrden(t){this.isLoading=!0,this.comprasService.getDetalleOrdenCompra(t).subscribe({next:i=>{this.detalleOrden=i.resumen,this.productosResumen=i.productos,this.justificacionCompra=i.justificacion,this.isLoading=!1},error:i=>{console.error("Error al cargar resumen de orden:",i),this.isLoading=!1}})}onImprimirOrden(){alert(`Generando PDF o imprimiendo la Orden de Compra N\xB0 ${this.idOrden}.`)}static \u0275fac=function(i){return new(i||e)(g(xe),g($))};static \u0275cmp=C({type:e,selectors:[["app-orden-compra-resumen",8,"component"]],standalone:!1,attrs:mn,decls:43,vars:25,consts:[[1,"page-container"],[1,"card-section","order-header"],[1,"header-actions"],["color","primary",3,"click"],["color","default",3,"routerLink"],[1,"card-section","products-table"],[3,"resumen"],[1,"empty-state","centered-content"],[1,"footer-summary"],[1,"justification-card"],[1,"justification-text"],[1,"totals-card"],[1,"total-row"],[1,"value"],[1,"total-row","total-final"],[1,"detail-grid"]],template:function(i,r){i&1&&(n(0,"div",0)(1,"h2"),a(2,"Resumen de Orden de Compra N\xB0 "),T(3,hn,1,1),o(),n(4,"mat-card",1),T(5,un,24,8),n(6,"div",2)(7,"button",3),v("click",function(){return r.onImprimirOrden()}),a(8," Imprimir / Descargar "),o(),n(9,"button",4),a(10," Volver al Inicio "),o()()(),n(11,"mat-card",5)(12,"h3"),a(13,"Productos de la Orden"),o(),T(14,fn,1,1,"app-resumen-compra-table",6)(15,vn,5,0,"div",7),o(),n(16,"div",8)(17,"mat-card",9)(18,"h3"),a(19,"Justificaci\xF3n de la Compra"),o(),n(20,"p",10),a(21),o()(),n(22,"mat-card",11)(23,"h3"),a(24,"Resumen de Costos"),o(),n(25,"div",12)(26,"span"),a(27,"Subtotal:"),o(),n(28,"span",13),a(29),x(30,"currency"),o()(),n(31,"div",12)(32,"span"),a(33),o(),n(34,"span",13),a(35),x(36,"currency"),o()(),n(37,"div",14)(38,"strong"),a(39,"Costo Total:"),o(),n(40,"strong",13),a(41),x(42,"currency"),o()()()()()),i&2&&(c(3),M(r.detalleOrden?3:-1),c(2),M(r.detalleOrden?5:-1),c(4),s("routerLink",S(24,pn)),c(5),M(r.productosResumen&&r.productosResumen.length>0?14:15),c(7),w(r.justificacionCompra||"No se proporcion\xF3 una justificaci\xF3n para esta orden."),c(8),w(E(30,9,r.subtotalGeneral,"USD","symbol","1.2-2")),c(4),p("IGV (",.18*100,"%):"),c(2),w(E(36,14,r.igv,"USD","symbol","1.2-2")),c(6),w(E(42,19,r.costoTotal,"USD","symbol","1.2-2")))},dependencies:[Y,le,Be,O,ce],encapsulation:2})};var gn=[{path:"",redirectTo:"solicitudes-pendientes",pathMatch:"full"},{path:"solicitudes-pendientes",component:Re},{path:"cotizacion-generacion/:idSolicitud",component:Ae},{path:"historial-compras",component:Le},{path:"orden-compra-resumen/:idOrden",component:Ne},{path:"lista-proveedores",component:Te}],He=class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=ne({type:e});static \u0275inj=oe({imports:[Ue.forChild(gn),Ue]})};var bn=new Je("mat-chips-default-options",{providedIn:"root",factory:()=>({separatorKeyCodes:[13]})});var Rt=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=ne({type:e});static \u0275inj=oe({providers:[Pt,{provide:bn,useValue:{separatorKeyCodes:[13]}}],imports:[$e,it,$e]})}return e})();var kt=class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=ne({type:e});static \u0275inj=oe({imports:[et,It,Qe,Tt,wt,bt,Rt,Xe,He,ut,ft,ot,Qe,nt,at,St]})};export{kt as ComprasModule};
